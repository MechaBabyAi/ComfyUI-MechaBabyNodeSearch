# ComfyUI MechaBaby ノード検索

> **言語選択**: [English](README.md) | [中文](README_zh.md) | [日本語](README_ja.md) | [한국어](README_ko.md) | [Русский](README_ru.md)

ComfyUIのノード検索とナビゲーション機能を強化する拡張機能。Ctrl+Fショートカットをサポート。

## 機能

- 🔍 **ノード検索とナビゲーション**：ノード名で素早く検索してジャンプ
- 📝 **属性検索**：ノード属性名と属性値（数値とテキストを含む）を検索
- 🔗 **ポートテレポート**：ノードポートを右クリックして、接続されたノードに直接ジャンプ
- ⚡ **クイックジャンプメニュー**：ノードを選択してショートカット（デフォルト：F1）を押すと、接続されたすべてのノードを素早く表示・ジャンプ
- ⏪ **履歴ナビゲーション**：マウスサイドボタンまたはカスタマイズ可能なキーボードキーでジャンプ履歴をナビゲート
- 🔄 **自動ジャンプ**：ポートに接続が1つしかない場合に自動ジャンプ（オプション）
- ⌨️ **キーボードショートカット**：`Ctrl+F` で検索ダイアログを素早く開く
- 🎯 **スマートマッチング**：ノードタイトル、タイプ、ノードID、ウィジェット名、ウィジェット値、プロパティ名、プロパティ値の検索をサポート
- ✨ **ゴールデンフラッシュハイライト**：ジャンプ後にターゲットノードがゴールド色に点滅し、見つけやすくなります
- 🔄 **Easy Use サポート**：`easy getNode` と `easy setNode` ノード間のジャンプをサポート（comfyui-easy-use 拡張機能）
- ⚙️ **豊富な設定オプション**：自動ジャンプ、メニューブロック、ナビゲーションキー、メニュースケールなど包括的な設定

## インストール

1. 拡張機能ディレクトリ `ComfyUI-MechaBabyNodeSearch` を `ComfyUI/custom_nodes/` に配置
2. ComfyUIを再起動
3. 拡張機能が自動的に読み込まれます

## 使用方法

### ノード検索

1. **キーボードショートカット**：`Ctrl+F` を押して検索ダイアログを開く
2. **右クリックメニュー**：キャンバスを右クリックして「🔍 ノード検索 (Ctrl+F)」を選択

検索ボックスにキーワードを入力して検索：
- ノードタイトル
- ノードタイプ
- ノードID
- ウィジェット名（例：「steps」、「cfg」、「seed」など）
- ウィジェット値（例：「20」、「7.5」、「prompt text」など）
- プロパティ名
- プロパティ値

### 拡張機能設定

拡張機能設定へのアクセス方法：
1. **右クリックメニュー**：キャンバスを右クリックして「⚙️ NodeSearch 設定」を選択
2. 設定メニューで以下が可能です：
   - インターフェース言語の変更（中国語、英語、日本語、韓国語、ロシア語）
   - キーボードショートカットのカスタマイズ（デフォルト：Ctrl+F）

**検索のヒント**：
- 矢印キー（↑↓）で結果リストをナビゲート
- `Enter` を押して選択したノードにジャンプ
- `Esc` を押して検索ダイアログを閉じる

### ポートテレポート

1. **方法1**：ノードを右クリックして「🔗 接続ノードにテレポート」を選択し、ジャンプする接続を選択
2. **方法2**：ポートを直接右クリック（ポートに接続がある場合）、自動的にジャンプするか接続リストを表示
3. **方法3**：ノードを選択してクイックジャンプショートカット（デフォルト：F1）を押すと、接続されたすべてのノードを表示するクイックジャンプメニューが開きます

### ポートテレポート設定

ポートテレポート設定へのアクセス方法：
1. **右クリックメニュー**：キャンバスを右クリックして「⚙️ NodeSearch 設定」→「🎯 ポートテレポート設定」を選択
2. 設定メニューで以下を設定できます：
   - **自動ジャンプ**：ポートに接続が1つしかない場合の自動ジャンプを有効/無効化
   - **メニュー表示完全ブロック**：自動ジャンプ時のメニュー表示完全ブロックを有効/無効化
   - **履歴ナビゲーション**：マウスサイドボタンとキーボード履歴ナビゲーションを有効/無効化
   - **ナビゲーションキーのカスタマイズ**：戻る/進むナビゲーションのカスタムキーを設定
   - **クイックジャンプショートカット**：クイックジャンプメニューのカスタムショートカットを設定（デフォルト：F1）
   - **メニュースケール**：クイックジャンプメニューのスケールを調整（50%、75%、100%、125%、150%、またはキャンバスズームに基づく自動調整）

## 使用例

### ノード検索
- 「ksampler」と入力してすべてのKSamplerノードを検索
- 「512」と入力して512という値を含むすべてのノード（幅、高さなど）を検索
- 「steps」と入力してstepsウィジェットを持つすべてのノードを検索

### ポートテレポート
- KSamplerノードの「model」入力ポートを右クリックして、接続されたCheckpointLoaderSimpleノードにジャンプ
- CheckpointLoaderSimpleノードの出力ポートを右クリックして、そのモデルを使用するすべてのノードにジャンプ

## 技術詳細

- **拡張機能タイプ**：Web Extension (JavaScript)
- **依存関係**：ComfyUI コア API
- **互換性**：ComfyUI 1.0+

## ライセンス

MIT License

## 更新履歴

### v1.4.0 (2026-01-08)
- 単一接続時の自動ジャンプ機能を追加：ポートに接続が1つしかない場合、右クリックでメニューを表示せずに直接ジャンプ
- 自動ジャンプ時のメニュー表示完全ブロックオプションを追加：自動ジャンプ時にメニュー表示を完全にブロック（他の拡張機能のメニューも含む）
- ジャンプ履歴ナビゲーション機能を追加：
  - マウスサイドボタンナビゲーション（戻る=サイドボタン1、進む=サイドボタン2）
  - キーボードナビゲーション（カスタマイズ可能、デフォルト：戻る=F2、進む=F3）
- クイックジャンプ機能を追加：
  - クイックジャンプショートカット（デフォルト：F1、カスタマイズ可能、Ctrl+F1などの組み合わせキーをサポート）
  - クイックジャンプメニューで、接続されたすべてのノードを2パネルレイアウト（入力/出力）で表示
  - ドラッグ可能なクイックジャンプメニュー
  - メニュースケール調整（50%、75%、100%、125%、150%、またはキャンバスズームに基づく自動スケール）
- ポートテレポート設定メニューを強化し、包括的な設定オプションを提供

### v1.3.2 (2026-01-07)
- カスタマイズ可能なキーボードショートカット機能を追加
- 多言語サポートを追加（中国語、英語、日本語、韓国語、ロシア語）
- 初回読み込み時にブラウザ言語を自動検出
- ショートカットと言語設定用の設定ダイアログを追加
- ポートテレポートメニュー項目が多言語に対応
- ノードID検索機能を追加
- 入力プレースホルダーを更新し、ノードID検索に言及
- ノードIDマッチングを含む検索機能を強化
- 結果ナビゲーションを改善：検索結果リストが自動スクロールし、常に選択中の項目が表示されるように調整

### v1.2.0 (2026-01-07)
- ノードジャンプ時のゴールデンフラッシュハイライト効果を追加
- `easy getNode` と `easy setNode` ノードジャンプサポートを追加（comfyui-easy-use 拡張機能）
- 新しい ComfyUI Context Menu API に移行
- 検索ダイアログを開いたときに入力欄に自動フォーカス
- コードの最適化とバグ修正

### v1.0.0 (2026-01-06)
- 初回リリース
- ノード検索機能
- 属性検索機能
- ポートテレポート機能
- キーボードショートカットサポート

## 貢献

IssueとPull Requestを歓迎します！

## 作者

MechaBaby


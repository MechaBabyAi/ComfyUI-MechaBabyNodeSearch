# ComfyUI MechaBaby 节点搜索

> **语言选择**: [English](README.md) | [中文](README_zh.md) | [日本語](README_ja.md) | [한국어](README_ko.md) | [Русский](README_ru.md)

增强ComfyUI节点搜索和导航功能的扩展，支持Ctrl+F快捷键。

## 功能特性

- 🔍 **节点搜索定位**：快速搜索节点名称并跳转
- 📝 **属性搜索**：搜索节点属性名称和属性值（包括数字和文本）
- 🔗 **端口传送**：在节点端口上右键，直接跳转到连接的节点
- ⌨️ **快捷键支持**：`Ctrl+F` 快速打开搜索对话框
- 🎯 **智能匹配**：支持节点标题、类型、节点ID、控件名称、控件值、属性名称、属性值的搜索
- ✨ **金黄色闪烁高亮**：跳转后目标节点会金黄色闪烁，更容易看到
- 🔄 **Easy Use 支持**：支持 `easy getNode` 和 `easy setNode` 节点之间的跳转（comfyui-easy-use 扩展）

## 安装

1. 将本扩展目录 `ComfyUI-MechaBabyNodeSearch` 放入 `ComfyUI/custom_nodes/` 目录
2. 重启 ComfyUI
3. 扩展会自动加载

## 使用方法

### 节点搜索

1. **快捷键方式**：按 `Ctrl+F` 打开搜索对话框
2. **右键菜单方式**：在画布空白处右键，选择 "🔍 搜索节点 (Ctrl+F)"

在搜索框中输入关键词，可以搜索：
- 节点标题
- 节点类型
- 节点ID
- 控件名称（如 "steps", "cfg", "seed" 等）
- 控件值（如 "20", "7.5", "prompt text" 等）
- 属性名称
- 属性值

### 扩展设置

进入扩展设置的方法：
1. **右键菜单方式**：在画布空白处右键，选择 "⚙️ 节点搜索设置"
2. 在设置菜单中，您可以：
   - 更改界面语言（中文、英文、日文、韩文、俄文）
   - 自定义快捷键（默认：Ctrl+F）

**搜索技巧**：
- 使用上下箭头键在结果列表中导航
- 按 `Enter` 跳转到选中的节点
- 按 `Esc` 关闭搜索对话框

### 端口传送

1. **方式一**：在节点上右键，选择 "🔗 传送到连接节点"，然后选择要跳转的连接
2. **方式二**：直接在端口上右键（如果端口有连接），会自动跳转或显示连接列表

## 功能演示

### 搜索节点
- 输入 "ksampler" 可以找到所有 KSampler 节点
- 输入 "512" 可以找到所有包含 512 这个值的节点（如宽度、高度等）
- 输入 "steps" 可以找到所有有 steps 控件的节点

### 端口传送
- 在 KSampler 节点的 "model" 输入端口右键，可以跳转到连接的 CheckpointLoaderSimple 节点
- 在 CheckpointLoaderSimple 节点的输出端口右键，可以跳转到所有使用该模型的节点

## 技术实现

- **扩展类型**：Web Extension (JavaScript)
- **依赖**：ComfyUI 核心 API
- **兼容性**：ComfyUI 1.0+

## 许可证

MIT License

## 更新日志

### v1.3.2 (2026-01-07)
- 新增自定义快捷键功能
- 新增多语言支持（中文、英文、日文、韩文、俄文）
- 首次加载时自动检测浏览器语言
- 新增设置对话框（快捷键和语言配置）
- 端口传送菜单项支持多语言
- 新增节点ID搜索功能
- 更新输入框占位符，提及节点ID搜索
- 增强搜索功能，支持节点ID匹配
- 优化结果导航：搜索结果列表会自动滚动，始终保持当前选中项可见

### v1.2.0 (2026-01-07)
- 新增节点跳转后金黄色闪烁高亮效果
- 新增 `easy getNode` 和 `easy setNode` 节点跳转支持（comfyui-easy-use 扩展）
- 迁移到新的 ComfyUI Context Menu API
- 打开搜索框时自动聚焦到输入框
- 代码优化和 bug 修复

### v1.0.0 (2026-01-06)
- 初始版本
- 实现节点搜索功能
- 实现属性搜索功能
- 实现端口传送功能
- 添加快捷键支持

## 贡献

欢迎提交 Issue 和 Pull Request！

## 作者

MechaBaby

